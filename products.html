<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Ali Anarbek - Products</title>
    <link rel="stylesheet" href="style.css">
    <script src="script.js" defer></script>
</head>

<body>
    <!-- –í–∏–¥–µ–æ —Ñ–æ–Ω -->
    <video autoplay muted loop id="bg-video">
        <source src="Video.mp4" type="video/mp4">
    </video>

    <header>
        <nav>
            <div class="brand">Ali Anarbek | –ê–≤—Ç–æ—à–∫–æ–ª–∞</div>
            <div class="menu">
                <a href="index.html">–ì–ª–∞–≤–Ω–∞—è</a>
                <a href="products.html">Products</a>
                <a href="index.html#courses">–ö—É—Ä—Å—ã</a>
                <a href="index.html#contacts">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
                <div class="auth-buttons">
                    <button class="btn btn-outline">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button>
                    <button class="btn btn-login">–í—Ö–æ–¥</button>
                </div>
            </div>
        </nav>
    </header>

    <section class="hero fade-in">
        <h1>üõí –ù–∞—à–∏ –ø—Ä–æ–¥—É–∫—Ç—ã</h1>
        <p>–í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–¥—Ö–æ–¥—è—â–∏–π –ø–∞–∫–µ—Ç –æ–±—É—á–µ–Ω–∏—è –¥–ª—è —Å–µ–±—è</p>
    </section>

    <!-- –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã -->
    <section class="cards fade-in" id="mainProducts">
        <div class="card">
            <h3>–ë–∞–∑–æ–≤—ã–π –∫—É—Ä—Å</h3>
            <p>–¢–µ–æ—Ä–∏—è –ü–î–î + 10 –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö –∑–∞–Ω—è—Ç–∏–π</p>
            <p><strong>–¶–µ–Ω–∞: 50 000 ‚Ç∏</strong></p>
            <button class="btn btn-gradient buy-btn">–ö—É–ø–∏—Ç—å</button>
        </div>
        <div class="card">
            <h3>–°—Ç–∞–Ω–¥–∞—Ä—Ç</h3>
            <p>–¢–µ–æ—Ä–∏—è + 20 –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö –∑–∞–Ω—è—Ç–∏–π</p>
            <p><strong>–¶–µ–Ω–∞: 80 000 ‚Ç∏</strong></p>
            <button class="btn btn-gradient buy-btn">–ö—É–ø–∏—Ç—å</button>
        </div>
        <div class="card">
            <h3>–ò–Ω—Ç–µ–Ω—Å–∏–≤</h3>
            <p>–°–∂–∞—Ç–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ –∑–∞ 1 –º–µ—Å—è—Ü</p>
            <p><strong>–¶–µ–Ω–∞: 95 000 ‚Ç∏</strong></p>
            <button class="btn btn-gradient buy-btn">–ö—É–ø–∏—Ç—å</button>
        </div>
        <div class="card">
            <h3>VIP-–ø–∞–∫–µ—Ç</h3>
            <p>–õ–∏—á–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä + –≥–∏–±–∫–∏–π –≥—Ä–∞—Ñ–∏–∫</p>
            <p><strong>–¶–µ–Ω–∞: 120 000 ‚Ç∏</strong></p>
            <button class="btn btn-gradient buy-btn">–ö—É–ø–∏—Ç—å</button>
        </div>
        <div class="card">
            <h3>–≠–∫–∑–∞–º–µ–Ω PRO</h3>
            <p>–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —ç–∫–∑–∞–º–µ–Ω—É</p>
            <p><strong>–¶–µ–Ω–∞: 40 000 ‚Ç∏</strong></p>
            <button class="btn btn-gradient buy-btn">–ö—É–ø–∏—Ç—å</button>
        </div>
    </section>

    <!-- –ö–Ω–æ–ø–∫–∞ –ø–æ–∫–∞–∑–∞—Ç—å –µ—â—ë -->
    <div style="text-align:center; margin:40px;">
        <button class="btn btn-gradient" id="showMoreBtn">–ü–æ–∫–∞–∑–∞—Ç—å –µ—â—ë</button>
    </div>

    <!-- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã -->
    <section class="cards hidden fade-in" id="extraProducts">
        <div class="card">
            <h3>–û–Ω–ª–∞–π–Ω-–∫—É—Ä—Å –ü–î–î</h3>
            <p>–£—á–∏—Å—å –∏–∑ –¥–æ–º–∞ –≤ —É–¥–æ–±–Ω–æ–µ –≤—Ä–µ–º—è</p>
            <p><strong>–¶–µ–Ω–∞: 30 000 ‚Ç∏</strong></p>
            <button class="btn btn-gradient buy-btn">–ö—É–ø–∏—Ç—å</button>
        </div>
        <div class="card">
            <h3>–ü–æ–≤—ã—à–µ–Ω–∏–µ –∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏–∏</h3>
            <p>–û—Å–≤–µ–∂–∏ –∑–Ω–∞–Ω–∏—è –∏ —É–ª—É—á—à–∞–π –Ω–∞–≤—ã–∫–∏</p>
            <p><strong>–¶–µ–Ω–∞: 25 000 ‚Ç∏</strong></p>
            <button class="btn btn-gradient buy-btn">–ö—É–ø–∏—Ç—å</button>
        </div>
    </section>

    <!-- –ö–æ—Ä–∑–∏–Ω–∞ -->
    <section class="cart" id="cart" style="background: rgba(30,30,30,0.8); padding:20px; margin:20px; border-radius:10px;">
        <h2>–ö–æ—Ä–∑–∏–Ω–∞</h2>
        <p>–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞</p>
    </section>

    <footer id="contacts">
        <p>üì© –°–≤—è–∂–∏—Ç–µ—Å—å —Å–æ –º–Ω–æ–π:</p>
        <a href="https://instagram.com/" target="_blank">Instagram</a> |
        <a href="mailto:example@mail.com">Email</a>
    </footer>

    <!-- JS -->
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            // –ü–æ–∫–∞–∑–∞—Ç—å/—Å–∫—Ä—ã—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã
            const showMoreBtn = document.getElementById("showMoreBtn");
            const extraProducts = document.getElementById("extraProducts");

            showMoreBtn.addEventListener("click", () => {
                extraProducts.classList.toggle("hidden");
                showMoreBtn.textContent = extraProducts.classList.contains("hidden") ? "–ü–æ–∫–∞–∑–∞—Ç—å –µ—â—ë" : "–°–∫—Ä—ã—Ç—å";
            });

            // –ö–ª–∞—Å—Å—ã –¥–ª—è –∫–æ—Ä–∑–∏–Ω—ã
            class Product {
                constructor(name, price) {
                    this.name = name;
                    this.price = price;
                    this.quantity = 1;
                }
            }

            class Cart {
                constructor(selector) {
                    this.items = [];
                    this.cartEl = document.querySelector(selector);
                }

                add(product) {
                    const exist = this.items.find(i => i.name === product.name);
                    if (exist) exist.quantity++;
                    else this.items.push(product);
                    this.render();
                }

                remove(name) {
                    this.items = this.items.filter(i => i.name !== name);
                    this.render();
                }

                updateQuantity(name, qty) {
                    const item = this.items.find(i => i.name === name);
                    if (item) item.quantity = qty;
                    this.render();
                }

                getTotal() {
                    return this.items.reduce((sum, i) => sum + i.price * i.quantity, 0);
                }

                render() {
                    this.cartEl.innerHTML = "<h2>–ö–æ—Ä–∑–∏–Ω–∞</h2>";
                    if (this.items.length === 0) {
                        this.cartEl.innerHTML += "<p>–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞</p>";
                        return;
                    }

                    this.items.forEach(item => {
                        const div = document.createElement("div");
                        div.style.display = "flex";
                        div.style.justifyContent = "space-between";
                        div.style.alignItems = "center";
                        div.style.margin = "8px 0";

                        div.innerHTML = `
                            <span>${item.name} x${item.quantity} - ${item.price * item.quantity} ‚Ç∏</span>
                            <input type="number" min="1" value="${item.quantity}" style="width:50px;">
                            <button style="background:#ff5722;color:white;border:none;padding:5px 10px;border-radius:5px;">–£–¥–∞–ª–∏—Ç—å</button>
                        `;

                        div.querySelector("input").addEventListener("change", e => {
                            const val = parseInt(e.target.value);
                            if (val > 0) this.updateQuantity(item.name, val);
                        });

                        div.querySelector("button").addEventListener("click", () => {
                            this.remove(item.name);
                        });

                        this.cartEl.appendChild(div);
                    });

                    const totalDiv = document.createElement("div");
                    totalDiv.style.marginTop = "10px";
                    totalDiv.style.fontWeight = "bold";
                    totalDiv.textContent = `–ò—Ç–æ–≥–æ: ${this.getTotal()} ‚Ç∏`;
                    this.cartEl.appendChild(totalDiv);
                }
            }

            const cart = new Cart("#cart");

            // –ö–Ω–æ–ø–∫–∏ "–ö—É–ø–∏—Ç—å"
            document.querySelectorAll(".buy-btn").forEach(btn => {
                btn.addEventListener("click", () => {
                    const card = btn.closest(".card");
                    const name = card.querySelector("h3").textContent;
                    const price = parseInt(card.querySelector("strong").textContent.replace(/\D/g, ""));
                    cart.add(new Product(name, price));
                    alert(`${name} –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∫–æ—Ä–∑–∏–Ω—É üõí`);
                });
            });
        });
    </script>
</body>

</html>
